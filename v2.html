<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>World Quiz</title>
<link rel="icon" href="https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f30d.png">
<style>
    :root { --primary: #70a1ff; --correct: #2ed573; --wrong: #ff4757; }
    body {
        margin: 0;
        font-family: -apple-system, BlinkMacSystemFont, sans-serif;
        background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
        color: white;
        height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        overflow: hidden;
    }
    
    /* GLASSMORPHISM UI */
    .glass-panel {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(16px);
        -webkit-backdrop-filter: blur(16px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
    }

    /* NAV */
    .nav { width: 100%; max-width: 500px; padding: 15px; display: flex; gap: 10px; box-sizing: border-box; z-index: 10; }
    .nav-btn {
        flex: 1; padding: 10px; border-radius: 12px;
        background: rgba(0,0,0,0.2); border: 1px solid rgba(255,255,255,0.1);
        color: #aaa; font-weight: 600; font-size: 0.9rem; cursor: pointer;
    }
    .nav-btn.active { background: rgba(112, 161, 255, 0.2); color: white; border-color: var(--primary); }

    /* VIEWS */
    .view { display: none; width: 100%; max-width: 500px; height: 100%; flex-direction: column; padding: 0 20px; box-sizing: border-box; }
    .view.active { display: flex; }

    /* QUIZ CARDS */
    .flag-display { font-size: 4rem; margin-top: 20px; text-shadow: 0 5px 15px rgba(0,0,0,0.5); text-align: center; }
    .country-display { font-size: 1.8rem; font-weight: 800; margin: 5px 0 30px 0; text-align: center; text-shadow: 0 2px 4px rgba(0,0,0,0.5); }
    .streak-display { font-size: 0.8rem; color: #888; text-transform: uppercase; letter-spacing: 2px; text-align: center; margin-top: 10px; }

    /* BUTTONS */
    .opt-btn {
        position: relative; width: 100%; margin-bottom: 12px; padding: 18px;
        border-radius: 16px; font-size: 1rem; color: white; font-weight: 500;
        text-align: center; cursor: pointer; overflow: hidden;
        transition: transform 0.1s;
    }
    .opt-btn:active { transform: scale(0.98); }
    
    /* Bubble Animation Layer */
    .opt-btn::after {
        content: ''; position: absolute; top: 50%; left: 50%; width: 400px; height: 400px;
        border-radius: 50%; transform: translate(-50%, -50%) scale(0);
        transition: transform 0.5s cubic-bezier(0.2, 0.8, 0.2, 1); z-index: 0;
    }
    .opt-btn span { position: relative; z-index: 1; }

    /* STATES */
    .opt-btn.correct { border-color: var(--correct); }
    .opt-btn.correct::after { background: var(--correct); transform: translate(-50%, -50%) scale(1.5); }
    
    .opt-btn.wrong { border-color: var(--wrong); }
    .opt-btn.wrong::after { background: var(--wrong); transform: translate(-50%, -50%) scale(1.5); }

    #next-btn {
        margin-top: 10px; padding: 15px; width: 100%;
        background: var(--primary); color: white; border: none; border-radius: 16px;
        font-weight: bold; font-size: 1.1rem; cursor: pointer; display: none;
        box-shadow: 0 5px 20px rgba(112, 161, 255, 0.3);
    }

    /* STUDY LIST */
    .search { width: 100%; padding: 15px; margin: 10px 0; border-radius: 12px; color: white; font-size: 1rem; box-sizing: border-box; }
    .list-area { flex: 1; overflow-y: auto; padding-bottom: 80px; }
    .row { display: flex; align-items: center; padding: 15px 0; border-bottom: 1px solid rgba(255,255,255,0.1); }
    .row-flag { font-size: 2rem; margin-right: 15px; }
    .row-text { display: flex; flex-direction: column; }
    .row-cap { font-size: 0.9rem; color: #aaa; margin-top: 2px; }
</style>
</head>
<body>

<div class="nav">
    <button class="nav-btn active" onclick="tab('quiz')">Quiz</button>
    <button class="nav-btn" onclick="tab('study')">Study</button>
</div>

<div id="quiz-view" class="view active">
    <div class="streak-display">Streak: <span id="streak">0</span></div>
    <div class="flag-display" id="q-flag">üåç</div>
    <div class="country-display" id="q-text">Loading...</div>
    <div id="opts"></div>
    <button id="next-btn" onclick="loadQ()">Next Question</button>
</div>

<div id="study-view" class="view">
    <input type="text" id="search" class="search glass-panel" placeholder="Search..." onkeyup="filter()">
    <div class="list-area" id="list"></div>
</div>

<script>
// COMPRESSED DATA (c=Country, k=Capital, f=Flag)
const d=[
{c:"Afghanistan",k:"Kabul",f:"üá¶üá´"},{c:"Albania",k:"Tirana",f:"üá¶üá±"},{c:"Algeria",k:"Algiers",f:"üá©üáø"},{c:"Andorra",k:"Andorra la Vella",f:"üá¶üá©"},{c:"Angola",k:"Luanda",f:"üá¶üá¥"},
{c:"Antigua & Barbuda",k:"Saint John's",f:"üá¶üá¨"},{c:"Argentina",k:"Buenos Aires",f:"üá¶üá∑"},{c:"Armenia",k:"Yerevan",f:"üá¶üá≤"},{c:"Australia",k:"Canberra",f:"üá¶üá∫"},{c:"Austria",k:"Vienna",f:"üá¶üáπ"},
{c:"Azerbaijan",k:"Baku",f:"üá¶üáø"},{c:"Bahamas",k:"Nassau",f:"üáßüá∏"},{c:"Bahrain",k:"Manama",f:"üáßüá≠"},{c:"Bangladesh",k:"Dhaka",f:"üáßüá©"},{c:"Barbados",k:"Bridgetown",f:"üáßüáß"},
{c:"Belarus",k:"Minsk",f:"üáßüáæ"},{c:"Belgium",k:"Brussels",f:"üáßüá™"},{c:"Belize",k:"Belmopan",f:"üáßüáø"},{c:"Benin",k:"Porto-Novo",f:"üáßüáØ"},{c:"Bhutan",k:"Thimphu",f:"üáßüáπ"},
{c:"Bolivia",k:"Sucre",f:"üáßüá¥"},{c:"Bosnia & Herzegovina",k:"Sarajevo",f:"üáßüá¶"},{c:"Botswana",k:"Gaborone",f:"üáßüáº"},{c:"Brazil",k:"Bras√≠lia",f:"üáßüá∑"},{c:"Brunei",k:"Bandar Seri Begawan",f:"üáßüá≥"},
{c:"Bulgaria",k:"Sofia",f:"üáßüá¨"},{c:"Burkina Faso",k:"Ouagadougou",f:"üáßüá´"},{c:"Burundi",k:"Gitega",f:"üáßüáÆ"},{c:"Cabo Verde",k:"Praia",f:"üá®üáª"},{c:"Cambodia",k:"Phnom Penh",f:"üá∞üá≠"},
{c:"Cameroon",k:"Yaound√©",f:"üá®üá≤"},{c:"Canada",k:"Ottawa",f:"üá®üá¶"},{c:"Central African Rep.",k:"Bangui",f:"üá®üá´"},{c:"Chad",k:"N'Djamena",f:"üáπüá©"},{c:"Chile",k:"Santiago",f:"üá®üá±"},
{c:"China",k:"Beijing",f:"üá®üá≥"},{c:"Colombia",k:"Bogot√°",f:"üá®üá¥"},{c:"Comoros",k:"Moroni",f:"üá∞üá≤"},{c:"Congo (DRC)",k:"Kinshasa",f:"üá®üá©"},{c:"Congo (Rep.)",k:"Brazzaville",f:"üá®üá¨"},
{c:"Costa Rica",k:"San Jos√©",f:"üá®üá∑"},{c:"Croatia",k:"Zagreb",f:"üá≠üá∑"},{c:"Cuba",k:"Havana",f:"üá®üá∫"},{c:"Cyprus",k:"Nicosia",f:"üá®üáæ"},{c:"Czechia",k:"Prague",f:"üá®üáø"},
{c:"Denmark",k:"Copenhagen",f:"üá©üá∞"},{c:"Djibouti",k:"Djibouti",f:"üá©üáØ"},{c:"Dominica",k:"Roseau",f:"üá©üá≤"},{c:"Dominican Rep.",k:"Santo Domingo",f:"üá©üá¥"},{c:"East Timor",k:"Dili",f:"üáπüá±"},
{c:"Ecuador",k:"Quito",f:"üá™üá®"},{c:"Egypt",k:"Cairo",f:"üá™üá¨"},{c:"El Salvador",k:"San Salvador",f:"üá∏üáª"},{c:"Equatorial Guinea",k:"Malabo",f:"üá¨üá∂"},{c:"Eritrea",k:"Asmara",f:"üá™üá∑"},
{c:"Estonia",k:"Tallinn",f:"üá™üá™"},{c:"Eswatini",k:"Mbabane",f:"üá∏üáø"},{c:"Ethiopia",k:"Addis Ababa",f:"üá™üáπ"},{c:"Fiji",k:"Suva",f:"üá´üáØ"},{c:"Finland",k:"Helsinki",f:"üá´üáÆ"},
{c:"France",k:"Paris",f:"üá´üá∑"},{c:"Gabon",k:"Libreville",f:"üá¨üá¶"},{c:"Gambia",k:"Banjul",f:"üá¨üá≤"},{c:"Georgia",k:"Tbilisi",f:"üá¨üá™"},{c:"Germany",k:"Berlin",f:"üá©üá™"},
{c:"Ghana",k:"Accra",f:"üá¨üá≠"},{c:"Greece",k:"Athens",f:"üá¨üá∑"},{c:"Grenada",k:"St. George's",f:"üá¨üá©"},{c:"Guatemala",k:"Guatemala City",f:"üá¨üáπ"},{c:"Guinea",k:"Conakry",f:"üá¨üá≥"},
{c:"Guinea-Bissau",k:"Bissau",f:"üá¨üáº"},{c:"Guyana",k:"Georgetown",f:"üá¨üáæ"},{c:"Haiti",k:"Port-au-Prince",f:"üá≠üáπ"},{c:"Honduras",k:"Tegucigalpa",f:"üá≠üá≥"},{c:"Hungary",k:"Budapest",f:"üá≠üá∫"},
{c:"Iceland",k:"Reykjav√≠k",f:"üáÆüá∏"},{c:"India",k:"New Delhi",f:"üáÆüá≥"},{c:"Indonesia",k:"Jakarta",f:"üáÆüá©"},{c:"Iran",k:"Tehran",f:"üáÆüá∑"},{c:"Iraq",k:"Baghdad",f:"üáÆüá∂"},
{c:"Ireland",k:"Dublin",f:"üáÆüá™"},{c:"Israel",k:"Jerusalem",f:"üáÆüá±"},{c:"Italy",k:"Rome",f:"üáÆüáπ"},{c:"Ivory Coast",k:"Yamoussoukro",f:"üá®üáÆ"},{c:"Jamaica",k:"Kingston",f:"üáØüá≤"},
{c:"Japan",k:"Tokyo",f:"üáØüáµ"},{c:"Jordan",k:"Amman",f:"üáØüá¥"},{c:"Kazakhstan",k:"Astana",f:"üá∞üáø"},{c:"Kenya",k:"Nairobi",f:"üá∞üá™"},{c:"Kiribati",k:"Tarawa",f:"üá∞üáÆ"},
{c:"Kosovo",k:"Pristina",f:"üáΩüá∞"},{c:"Kuwait",k:"Kuwait City",f:"üá∞üáº"},{c:"Kyrgyzstan",k:"Bishkek",f:"üá∞üá¨"},{c:"Laos",k:"Vientiane",f:"üá±üá¶"},{c:"Latvia",k:"Riga",f:"üá±üáª"},
{c:"Lebanon",k:"Beirut",f:"üá±üáß"},{c:"Lesotho",k:"Maseru",f:"üá±üá∏"},{c:"Liberia",k:"Monrovia",f:"üá±üá∑"},{c:"Libya",k:"Tripoli",f:"üá±üáæ"},{c:"Liechtenstein",k:"Vaduz",f:"üá±üáÆ"},
{c:"Lithuania",k:"Vilnius",f:"üá±üáπ"},{c:"Luxembourg",k:"Luxembourg",f:"üá±üá∫"},{c:"Madagascar",k:"Antananarivo",f:"üá≤üá¨"},{c:"Malawi",k:"Lilongwe",f:"üá≤üáº"},{c:"Malaysia",k:"Kuala Lumpur",f:"üá≤üáæ"},
{c:"Maldives",k:"Mal√©",f:"üá≤üáª"},{c:"Mali",k:"Bamako",f:"üá≤üá±"},{c:"Malta",k:"Valletta",f:"üá≤üáπ"},{c:"Marshall Islands",k:"Majuro",f:"üá≤üá≠"},{c:"Mauritania",k:"Nouakchott",f:"üá≤üá∑"},
{c:"Mauritius",k:"Port Louis",f:"üá≤üá∫"},{c:"Mexico",k:"Mexico City",f:"üá≤üáΩ"},{c:"Micronesia",k:"Palikir",f:"üá´üá≤"},{c:"Moldova",k:"Chisinau",f:"üá≤üá©"},{c:"Monaco",k:"Monaco",f:"üá≤üá®"},
{c:"Mongolia",k:"Ulaanbaatar",f:"üá≤üá≥"},{c:"Montenegro",k:"Podgorica",f:"üá≤üá™"},{c:"Morocco",k:"Rabat",f:"üá≤üá¶"},{c:"Mozambique",k:"Maputo",f:"üá≤üáø"},{c:"Myanmar",k:"Naypyidaw",f:"üá≤üá≤"},
{c:"Namibia",k:"Windhoek",f:"üá≥üá¶"},{c:"Nauru",k:"Yaren",f:"üá≥üá∑"},{c:"Nepal",k:"Kathmandu",f:"üá≥üáµ"},{c:"Netherlands",k:"Amsterdam",f:"üá≥üá±"},{c:"New Zealand",k:"Wellington",f:"üá≥üáø"},
{c:"Nicaragua",k:"Managua",f:"üá≥üáÆ"},{c:"Niger",k:"Niamey",f:"üá≥üá™"},{c:"Nigeria",k:"Abuja",f:"üá≥üá¨"},{c:"North Korea",k:"Pyongyang",f:"üá∞üáµ"},{c:"North Macedonia",k:"Skopje",f:"üá≤üá∞"},
{c:"Norway",k:"Oslo",f:"üá≥üá¥"},{c:"Oman",k:"Muscat",f:"üá¥üá≤"},{c:"Pakistan",k:"Islamabad",f:"üáµüá∞"},{c:"Palau",k:"Ngerulmud",f:"üáµüáº"},{c:"Palestine",k:"Ramallah",f:"üáµüá∏"},
{c:"Panama",k:"Panama City",f:"üáµüá¶"},{c:"Papua New Guinea",k:"Port Moresby",f:"üáµüá¨"},{c:"Paraguay",k:"Asunci√≥n",f:"üáµüáæ"},{c:"Peru",k:"Lima",f:"üáµüá™"},{c:"Philippines",k:"Manila",f:"üáµüá≠"},
{c:"Poland",k:"Warsaw",f:"üáµüá±"},{c:"Portugal",k:"Lisbon",f:"üáµüáπ"},{c:"Qatar",k:"Doha",f:"üá∂üá¶"},{c:"Romania",k:"Bucharest",f:"üá∑üá¥"},{c:"Russia",k:"Moscow",f:"üá∑üá∫"},
{c:"Rwanda",k:"Kigali",f:"üá∑üáº"},{c:"St. Kitts & Nevis",k:"Basseterre",f:"üá∞üá≥"},{c:"St. Lucia",k:"Castries",f:"üá±üá®"},{c:"St. Vincent",k:"Kingstown",f:"üáªüá®"},{c:"Samoa",k:"Apia",f:"üáºüá∏"},
{c:"San Marino",k:"San Marino",f:"üá∏üá≤"},{c:"Sao Tome & Principe",k:"Sao Tome",f:"üá∏üáπ"},{c:"Saudi Arabia",k:"Riyadh",f:"üá∏üá¶"},{c:"Senegal",k:"Dakar",f:"üá∏üá≥"},{c:"Serbia",k:"Belgrade",f:"üá∑üá∏"},
{c:"Seychelles",k:"Victoria",f:"üá∏üá®"},{c:"Sierra Leone",k:"Freetown",f:"üá∏üá±"},{c:"Singapore",k:"Singapore",f:"üá∏üá¨"},{c:"Slovakia",k:"Bratislava",f:"üá∏üá∞"},{c:"Slovenia",k:"Ljubljana",f:"üá∏üáÆ"},
{c:"Solomon Islands",k:"Honiara",f:"üá∏üáß"},{c:"Somalia",k:"Mogadishu",f:"üá∏üá¥"},{c:"South Africa",k:"Pretoria",f:"üáøüá¶"},{c:"South Korea",k:"Seoul",f:"üá∞üá∑"},{c:"South Sudan",k:"Juba",f:"üá∏üá∏"},
{c:"Spain",k:"Madrid",f:"üá™üá∏"},{c:"Sri Lanka",k:"Sri Jayawardenepura Kotte",f:"üá±üá∞"},{c:"Sudan",k:"Khartoum",f:"üá∏üá©"},{c:"Suriname",k:"Paramaribo",f:"üá∏üá∑"},{c:"Sweden",k:"Stockholm",f:"üá∏üá™"},
{c:"Switzerland",k:"Bern",f:"üá®üá≠"},{c:"Syria",k:"Damascus",f:"üá∏üáæ"},{c:"Taiwan",k:"Taipei",f:"üáπüáº"},{c:"Tajikistan",k:"Dushanbe",f:"üáπüáØ"},{c:"Tanzania",k:"Dodoma",f:"üáπüáø"},
{c:"Thailand",k:"Bangkok",f:"üáπüá≠"},{c:"Togo",k:"Lom√©",f:"üáπüá¨"},{c:"Tonga",k:"Nuku ªalofa",f:"üáπüá¥"},{c:"Trinidad & Tobago",k:"Port of Spain",f:"üáπüáπ"},{c:"Tunisia",k:"Tunis",f:"üáπüá≥"},
{c:"T√ºrkiye",k:"Ankara",f:"üáπüá∑"},{c:"Turkmenistan",k:"Ashgabat",f:"üáπüá≤"},{c:"Tuvalu",k:"Funafuti",f:"üáπüáª"},{c:"Uganda",k:"Kampala",f:"üá∫üá¨"},{c:"Ukraine",k:"Kyiv",f:"üá∫üá¶"},
{c:"UAE",k:"Abu Dhabi",f:"üá¶üá™"},{c:"United Kingdom",k:"London",f:"üá¨üáß"},{c:"United States",k:"Washington, D.C.",f:"üá∫üá∏"},{c:"Uruguay",k:"Montevideo",f:"üá∫üáæ"},{c:"Uzbekistan",k:"Tashkent",f:"üá∫üáø"},
{c:"Vanuatu",k:"Port Vila",f:"üáªüá∫"},{c:"Vatican City",k:"Vatican City",f:"üáªüá¶"},{c:"Venezuela",k:"Caracas",f:"üáªüá™"},{c:"Vietnam",k:"Hanoi",f:"üáªüá≥"},{c:"Yemen",k:"Sana'a",f:"üáæüá™"},
{c:"Zambia",k:"Lusaka",f:"üáøüá≤"},{c:"Zimbabwe",k:"Harare",f:"üáøüáº"}
];

let streak=0, cur={}, lock=false;

function tab(t) {
    document.querySelectorAll('.view').forEach(e=>e.classList.remove('active'));
    document.querySelectorAll('.nav-btn').forEach(e=>e.classList.remove('active'));
    document.getElementById(t+'-view').classList.add('active');
    document.querySelector(`button[onclick="tab('${t}')"]`).classList.add('active');
    if(t==='study') renderList();
}

function loadQ() {
    try {
        lock=false;
        document.getElementById('next-btn').style.display='none';
        const con = document.getElementById('opts');
        con.innerHTML='';
        
        const q = d[Math.floor(Math.random()*d.length)];
        cur = q;
        document.getElementById('q-text').innerText = q.c;
        document.getElementById('q-flag').innerText = q.f;

        let opts = d.filter(x=>x.k!==q.k).sort(()=>Math.random()-0.5).slice(0,3);
        opts.push(q);
        opts.sort(()=>Math.random()-0.5);

        opts.forEach(o=>{
            let b = document.createElement('div');
            b.className = 'glass-panel opt-btn';
            b.innerHTML = `<span>${o.k}</span>`;
            b.onclick = ()=>check(b, o.k);
            con.appendChild(b);
        });
    } catch(e) { alert("Data Load Error"); }
}

function check(btn, ans) {
    if(lock) return;
    lock = true;
    
    if(ans === cur.k) {
        btn.classList.add('correct');
        streak++;
        if(navigator.vibrate) navigator.vibrate(10);
        setTimeout(loadQ, 1000);
    } else {
        btn.classList.add('wrong');
        streak=0;
        if(navigator.vibrate) navigator.vibrate([40,40]);
        // Show correct
        document.querySelectorAll('.opt-btn').forEach(b=>{
            if(b.innerText === cur.k) b.classList.add('correct');
        });
        document.getElementById('next-btn').style.display='block';
    }
    document.getElementById('streak').innerText = streak;
}

let listDone = false;
function renderList() {
    if(listDone) return;
    const l = document.getElementById('list');
    l.innerHTML='';
    [...d].sort((a,b)=>a.c.localeCompare(b.c)).forEach(i=>{
        let r = document.createElement('div');
        r.className='row';
        r.innerHTML = `<div class="row-flag">${i.f}</div><div class="row-text"><span style="font-weight:bold">${i.c}</span><span class="row-cap">${i.k}</span></div>`;
        l.appendChild(r);
    });
    listDone=true;
}

function filter() {
    let v = document.getElementById('search').value.toLowerCase();
    document.querySelectorAll('.row').forEach(r=>{
        r.style.display = r.innerText.toLowerCase().includes(v) ? 'flex' : 'none';
    });
}

window.onload=loadQ;
</script>
</body>
</html>